// ===================================================================
    // UI FORMAT TO DB FORMAT CONVERSION METHODS
    // Used when comparing scenario context (UI format) with DB values
    // ===================================================================

    /**
     * Convert sport mmte priority from UI format to DB format
     * UI format: 'Highest Date', 'Lowest Date'
     * DB format: 'HIGHEST_DATE', 'LOWEST_DATE'
     * @param uiValue - The UI format value from scenario context
     * @returns The DB format value
     */
    public static mapSportMmtePriorityToDb(uiValue: string | null | undefined): string {
        if (!uiValue) return '';
        const mapping: { [key: string]: string } = {
            'Highest Date': 'HIGHEST_DATE',
            'Lowest Date': 'LOWEST_DATE'
        };
        return mapping[uiValue.trim()] || uiValue;
    }

    /**
     * Convert rounding type from UI format to DB format
     * UI format: 'Round', 'Truncate', 'Round Up', 'Round Down', 'Nearest'
     * DB format: 'ROUND', 'TRUNCATE', 'UP', 'DOWN', 'NEAREST'
     * @param uiValue - The UI format value from scenario context
     * @returns The DB format value
     */
    public static mapRoundingTypeToDb(uiValue: string | null | undefined): string {
        if (!uiValue) return '';
        const mapping: { [key: string]: string } = {
            'Round': 'ROUND',
            'Truncate': 'TRUNCATE',
            'Round Up': 'UP',
            'Round Down': 'DOWN',
            'Nearest': 'NEAREST'
        };
        return mapping[uiValue.trim()] || uiValue;
    }

    /**
     * Convert rounding factor from UI format to DB format
     * UI format: '1/10th', 'Nearest 1/10th', '1/100th', '1 Decimal Place', etc.
     * DB format: 0.1, 0.01, 1, 2, etc.
     * @param uiValue - The UI format value from scenario context
     * @returns The DB format value as string
     */
    public static mapRoundingFactorToDb(uiValue: string | null | undefined): string {
        if (!uiValue) return '';
        const trimmedValue = uiValue.trim();

        // Fractional formats to decimal
        const fractionalMapping: { [key: string]: string } = {
            '1/10th': '0.1',
            'Nearest 1/10th': '0.1',
            '.1': '0.1',
            '0.1': '0.1',
            '1/100th': '0.01',
            'Nearest 1/100th': '0.01',
            '.01': '0.01',
            '0.01': '0.01',
            '1/1000th': '0.001',
            'Nearest 1/1000th': '0.001',
            '.001': '0.001',
            '0.001': '0.001',
            '1/10000th': '0.0001',
            'Nearest 1/10000th': '0.0001',
            '.0001': '0.0001',
            '0.0001': '0.0001',
            '1/8th': '0.125',
            'Nearest 1/8th': '0.125',
            '.125': '0.125',
            '0.125': '0.125',
            '1/16th': '0.0625',
            'Nearest 1/16th': '0.0625',
            '.0625': '0.0625',
            '0.0625': '0.0625',
            '1/32nd': '0.03125',
            'Nearest 1/32nd': '0.03125',
            '.03125': '0.03125',
            '0.03125': '0.03125'
        };

        // Decimal places format
        const decimalPlacesMapping: { [key: string]: string } = {
            '1 Decimal Place': '1',
            '2 Decimal Places': '2',
            '3 Decimal Places': '3',
            '4 Decimal Places': '4',
            '5 Decimal Places': '5',
            '6 Decimal Places': '6',
            '7 Decimal Places': '7',
            '8 Decimal Places': '8'
        };

        if (fractionalMapping[trimmedValue]) {
            return fractionalMapping[trimmedValue];
        }
        if (decimalPlacesMapping[trimmedValue]) {
            return decimalPlacesMapping[trimmedValue];
        }

        return trimmedValue;
    }

    /**
     * Check if rounding factor values are equivalent (for DB verification)
     * Handles different formats: UI may have '1/10th', DB may have '0.1'
     * @param scenarioValue - The value from scenario context (UI format)
     * @param dbValue - The value from database
     * @returns true if they are equivalent, false otherwise
     */
    public static isRoundingFactorDbMatch(scenarioValue: string, dbValue: string | number): boolean {
        if (!scenarioValue) return !dbValue;

        const expectedDbValue = this.mapRoundingFactorToDb(scenarioValue);
        const actualDbValue = String(dbValue).trim();

        // Direct match
        if (expectedDbValue === actualDbValue) return true;

        // Compare as numbers (handle cases like '0.1' vs '.1' or '0.10')
        const expectedNum = parseFloat(expectedDbValue);
        const actualNum = parseFloat(actualDbValue);
        if (!isNaN(expectedNum) && !isNaN(actualNum) && expectedNum === actualNum) {
            return true;
        }

        return false;
    }
